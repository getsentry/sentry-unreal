<?xml version="1.0" encoding="utf-8"?>
<root xmlns:android="http://schemas.android.com/apk/res/android">
	<init>
		<log text="SentryPlayground Android UPL initialization"/>
	</init>

	<gameActivityClassAdditions>
		<insert>
// Public method to extract Intent extras and return as command-line string
// Called from C++ via JNI in SentryPlaygroundGameInstance
public String AndroidThunkJava_GetIntentCommandLine() {
	android.content.Intent intent = getIntent();
	if (intent == null) {
		return "";
	}

	StringBuilder cmdLine = new StringBuilder();

	// Extract test type from Intent extras
	// Usage: adb shell am start -n &lt;package&gt;/&lt;activity&gt; -e test crash-capture
	String testType = intent.getStringExtra("test");
	if (testType != null) {
		if (testType.equals("crash-capture")) {
			cmdLine.append("-crash-capture ");
		} else if (testType.equals("message-capture")) {
			cmdLine.append("-message-capture ");
		}
	}

	// Extract optional DSN override
	// Usage: adb shell am start -n &lt;package&gt;/&lt;activity&gt; -e dsn "https://..."
	String dsn = intent.getStringExtra("dsn");
	if (dsn != null) {
		cmdLine.append("-dsn=\"").append(dsn).append("\" ");
	}

	// Add standard test flags for headless execution
	cmdLine.append("-nullrhi -unattended -stdout -nosplash");

	String result = cmdLine.toString().trim();
	if (!result.isEmpty()) {
		android.util.Log.d("SentryPlayground", "Intent command line: " + result);
	}

	return result;
}
		</insert>
	</gameActivityClassAdditions>
</root>